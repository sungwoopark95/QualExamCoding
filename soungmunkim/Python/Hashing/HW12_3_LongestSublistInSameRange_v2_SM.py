"""
[ë‘ ë¶€ë¶„ Listì˜ í•©ì´ ê°™ì€ ìµœëŒ€ ê¸¸ì´ ë°˜í™˜]

0 ê³¼ 1 ë¡œë§Œ ì´ë£¨ì–´ì§„ ë¦¬ìŠ¤íŠ¸ A, B ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ëŠ”ë‹¤. 
ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ ê¸¸ì´ì˜ ìµœëŒ€ê°’ì„ return í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì‹œì˜¤. 
ê·¸ëŸ¬í•œ ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë©´ 0 ì„ return í•˜ë©´ ëœë‹¤.
(Aì™€ BëŠ” ê¸¸ì´ê°€ 1ì´ìƒì´ê³ , ê¸¸ì´ê°€ ì„œë¡œ ê°™ë‹¤.)
ì¡°ê±´: 
ğ‘ ğ‘¢ğ‘š(ğ´[ğ‘–: ğ‘—]) == ğ‘ ğ‘¢ğ‘š(ğµ[ğ‘–: ğ‘—]), 0 â‰¤ ğ‘– â‰¤ ğ‘— â‰¤ ğ‘™ğ‘’ğ‘›(ğ´)

TestCase1)
>>> A = [0,1,1,(0,1,0,1,1),1]
>>> B = [0,0,0,(1,0,1,0,1),0]
>>>>P3(A,B)
5 

"""

def P3(A, B):
    # ëˆ„ì  í•© ë¦¬ìŠ¤íŠ¸ë¥¼ ê³„ì‚°
    """
    ê°ê°ì˜ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•œ ëˆ„ì  í•©ì„ ì €ì¥í•©ë‹ˆë‹¤. 
    ì˜ˆë¥¼ ë“¤ì–´, A = [1, 2, 3] ì´ë©´ cum_sum_A = [0, 1, 3, 6]ì´ ë©ë‹ˆë‹¤.
    """
    cum_sum_A = [0]
    cum_sum_B = [0]
    
    for a, b in zip(A, B):
        cum_sum_A.append(cum_sum_A[-1] + a)
        cum_sum_B.append(cum_sum_B[-1] + b)

    max_len = 0
    
    # ê°€ëŠ¥í•œ ëª¨ë“  ì‹œì‘ì ì— ëŒ€í•˜ì—¬
    for i in range(len(A) + 1):
        # ê°€ëŠ¥í•œ ëª¨ë“  ì¢…ë£Œì ì— ëŒ€í•˜ì—¬
        for j in range(i + 1, len(A) + 1):
            # Aì™€ Bì˜ ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ í•©ì„ ê³„ì‚°
            """
            ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ A[i:j]ì˜ í•©ì€ cum_sum_A[j] - cum_sum_A[i]ì™€ ê°™ìŠµë‹ˆë‹¤.
            """
            sum_A = cum_sum_A[j] - cum_sum_A[i]
            sum_B = cum_sum_B[j] - cum_sum_B[i]
            
            # ë§Œì•½ ë‘ ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ì˜ í•©ì´ ê°™ë‹¤ë©´, ìµœëŒ€ ê¸¸ì´ Update í•´ë³´ê¸°
            if sum_A == sum_B:
                max_len = max(max_len, j - i)

    return max_len
